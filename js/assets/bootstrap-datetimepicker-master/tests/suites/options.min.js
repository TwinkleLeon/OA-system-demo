module("Options",{setup:function(){},teardown:function(){}}),test("Autoclose",function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",autoclose:!0,minView:2,viewSelect:2}),i=t.data("datetimepicker"),a=i.picker;t.focus(),ok(a.is(":visible"),"Picker is visible"),e=a.find(".datetimepicker-days tbody td:nth(7)"),equal(e.text(),"4"),e.click(),ok(a.is(":not(:visible)"),"Picker is hidden"),datesEqual(i.date,UTCDate(2012,2,4)),datesEqual(i.viewDate,UTCDate(2012,2,4))}),test("Startview: year view (integer)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",startView:3,viewSelect:2}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":not(:visible)"),"Days view hidden"),ok(i.find(".datetimepicker-months").is(":visible"),"Months view visible"),ok(i.find(".datetimepicker-years").is(":not(:visible)"),"Years view hidden")}),test("Startview: year view (string)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",startView:"year",viewSelect:2}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":not(:visible)"),"Days view hidden"),ok(i.find(".datetimepicker-months").is(":visible"),"Months view visible"),ok(i.find(".datetimepicker-years").is(":not(:visible)"),"Years view hidden")}),test("Startview: decade view (integer)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",startView:4}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":not(:visible)"),"Days view hidden"),ok(i.find(".datetimepicker-months").is(":not(:visible)"),"Months view hidden"),ok(i.find(".datetimepicker-years").is(":visible"),"Years view visible")}),test("Startview: decade view (string)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",startView:"decade"}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":not(:visible)"),"Days view hidden"),ok(i.find(".datetimepicker-months").is(":not(:visible)"),"Months view hidden"),ok(i.find(".datetimepicker-years").is(":visible"),"Years view visible")}),test("Today Button: today button not default",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd"}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":visible"),"Days view visible"),ok(i.find(".datetimepicker-days tfoot .today").is(":not(:visible)"),"Today button not visible")}),test("Today Button: today visibility when enabled",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",todayBtn:!0}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":visible"),"Days view visible"),ok(i.find(".datetimepicker-days tfoot .today").is(":visible"),"Today button visible"),i.find(".datetimepicker-days thead th.switch").click(),ok(i.find(".datetimepicker-months").is(":visible"),"Months view visible"),ok(i.find(".datetimepicker-months tfoot .today").is(":visible"),"Today button visible"),i.find(".datetimepicker-months thead th.switch").click(),ok(i.find(".datetimepicker-years").is(":visible"),"Years view visible"),ok(i.find(".datetimepicker-years tfoot .today").is(":visible"),"Today button visible")}),test("Today Button: data-api",function(){var e=$('<input data-date-today-btn="true" />').appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd"}),t=e.data("datetimepicker"),i=t.picker;e.focus(),ok(i.find(".datetimepicker-days").is(":visible"),"Days view visible"),ok(i.find(".datetimepicker-days tfoot .today").is(":visible"),"Today button visible")}),test("Today Button: moves to today's date",function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",todayBtn:!0}),i=t.data("datetimepicker"),a=i.picker;t.focus(),ok(a.find(".datetimepicker-days").is(":visible"),"Days view visible"),ok(a.find(".datetimepicker-days tfoot .today").is(":visible"),"Today button visible"),e=a.find(".datetimepicker-days tfoot .today"),e.click();var d=new Date,s=UTCDate(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds());datesEqual(i.viewDate,s)}),test('Today Button: "linked" selects today\'s date',function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",todayBtn:"linked"}),i=t.data("datetimepicker"),a=i.picker;t.focus(),ok(a.find(".datetimepicker-days").is(":visible"),"Days view visible"),ok(a.find(".datetimepicker-days tfoot .today").is(":visible"),"Today button visible"),e=a.find(".datetimepicker-days tfoot .today"),e.click();var d=new Date,s=UTCDate(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds());datesEqual(i.viewDate,s),datesEqual(i.date,s)}),test("Today Highlight: today's date is not highlighted by default",patch_date(function(e){e.now=UTCDate(2012,2,15);var t,i=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd"}),a=i.data("datetimepicker"),d=a.picker;i.focus(),ok(d.find(".datetimepicker-days").is(":visible"),"Days view visible"),equal(d.find(".datetimepicker-days thead .switch").text(),"March 2012",'Title is "March 2012"'),t=d.find(".datetimepicker-days tbody td:contains(15)"),ok(!t.hasClass("today"),'Today is not marked with "today" class'),t=d.find(".datetimepicker-days tbody td:contains(14)"),ok(!t.hasClass("today"),'Yesterday is not marked with "today" class'),t=d.find(".datetimepicker-days tbody td:contains(16)"),ok(!t.hasClass("today"),'Tomorrow is not marked with "today" class')})),test("Today Highlight: today's date is highlighted when not active",patch_date(function(e){e.now=new e(2012,2,15);var t,i=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datetimepicker({format:"yyyy-mm-dd",todayHighlight:!0}),a=i.data("datetimepicker"),d=a.picker;i.focus(),ok(d.find(".datetimepicker-days").is(":visible"),"Days view visible"),equal(d.find(".datetimepicker-days thead .switch").text(),"March 2012",'Title is "March 2012"'),t=d.find(".datetimepicker-days tbody td:contains(15)"),ok(t.hasClass("today"),'Today is marked with "today" class'),t=d.find(".datetimepicker-days tbody td:contains(14)"),ok(!t.hasClass("today"),'Yesterday is not marked with "today" class'),t=d.find(".datetimepicker-days tbody td:contains(16)"),ok(!t.hasClass("today"),'Tomorrow is not marked with "today" class')})),test("DaysOfWeekDisabled",function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datetimepicker({format:"yyyy-mm-dd",daysOfWeekDisabled:"1,5"}),i=t.data("datetimepicker"),a=i.picker;t.focus(),e=a.find(".datetimepicker-days tbody td:nth(22)"),ok(e.hasClass("disabled"),"Day of week is disabled"),e=a.find(".datetimepicker-days tbody td:nth(24)"),ok(!e.hasClass("disabled"),"Day of week is enabled"),e=a.find(".datetimepicker-days tbody td:nth(26)"),ok(e.hasClass("disabled"),"Day of week is disabled")}),test("startDate: Custom value",function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2013-01-25").datetimepicker({format:"yyyy-mm-dd",startView:2,startDate:"2013-01-24 15:30",viewSelect:2}),i=t.data("datetimepicker"),a=i.picker;t.focus(),ok(a.find(".datetimepicker-days tbody tr:nth(3) td:nth(2)").hasClass("disabled"),"The previous day is disabled"),e=a.find(".datetimepicker-days tbody tr:nth(3) td:nth(4)"),ok(!e.hasClass("disabled"),"The starting day is enabled"),e.click(),ok(a.find(".datetimepicker-hours tbody span:nth(14)").hasClass("disabled"),"The previous hour is disabled"),e=a.find(".datetimepicker-hours tbody span:nth(15)"),ok(!e.hasClass("disabled"),"The starting hour is enabled"),e.click(),ok(a.find(".datetimepicker-minutes tbody span:nth(5)").hasClass("disabled"),"The previous minute is disabled"),ok(!a.find(".datetimepicker-minutes tbody span:nth(6)").hasClass("disabled"),"The starting minute is enabled")}),test("startDate: Custom value",function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2013-01-25").datetimepicker({format:"yyyy-mm-dd",startView:2,startDate:"2013-01-24 15:30",viewSelect:2}),i=t.data("datetimepicker"),a=i.picker;t.focus(),ok(a.find(".datetimepicker-days tbody tr:nth(3) td:nth(3)").hasClass("disabled"),"The previous day is disabled"),e=a.find(".datetimepicker-days tbody tr:nth(3) td:nth(4)"),ok(!e.hasClass("disabled"),"The starting day is enabled"),e.click(),ok(a.find(".datetimepicker-hours tbody span:nth(14)").hasClass("disabled"),"The previous hour is disabled"),e=a.find(".datetimepicker-hours tbody span:nth(15)"),ok(!e.hasClass("disabled"),"The starting hour is enabled"),e.click(),ok(a.find(".datetimepicker-minutes tbody span:nth(5)").hasClass("disabled"),"The previous minute is disabled"),ok(!a.find(".datetimepicker-minutes tbody span:nth(6)").hasClass("disabled"),"The starting minute is enabled")}),test("endDate: Custom value",function(){var e,t=$("<input />").appendTo("#qunit-fixture").val("2013-01-25").datetimepicker({format:"yyyy-mm-dd",startView:2,endDate:"2013-01-24 15:30",viewSelect:2}),i=t.data("datetimepicker"),a=i.picker;t.focus(),ok(a.find(".datetimepicker-days tbody tr:nth(3) td:nth(5)").hasClass("disabled"),"The next day is disabled"),e=a.find(".datetimepicker-days tbody tr:nth(3) td:nth(4)"),ok(!e.hasClass("disabled"),"The last day is enabled"),e.click(),ok(a.find(".datetimepicker-hours tbody span:nth(16)").hasClass("disabled"),"The next hour is disabled"),e=a.find(".datetimepicker-hours tbody span:nth(15)"),ok(!e.hasClass("disabled"),"The last hour is enabled"),e.click(),ok(a.find(".datetimepicker-minutes tbody span:nth(7)").hasClass("disabled"),"The next minute is disabled"),ok(!a.find(".datetimepicker-minutes tbody span:nth(6)").hasClass("disabled"),"The last minute is enabled")}),test("zIndex: set in options",function(){var e=77,t=$("<input />").appendTo("#qunit-fixture").val("2013-01-25").datetimepicker({format:"yyyy-mm-dd",startView:2,endDate:"2013-01-24 15:30",viewSelect:2,zIndex:e}),i=t.data("datetimepicker"),a=i.picker;ok(parseInt(a.css("z-index"),10)==e,"has a value defined in the options")});